{
  "id": "go-service-metadata",
  "name": "Go Service Metadata & Infrastructure",
  "description": "Add Go microservice context (service name, version, deployment, Kubernetes pod info) for distributed systems debugging",
  "sdk": "go",
  "event": {
    "event_id": "go-service-222",
    "message": "gRPC request failed: context deadline exceeded",
    "exception": {
      "values": [
        {
          "type": "DeadlineExceeded",
          "value": "rpc error: code = DeadlineExceeded desc = context deadline exceeded"
        }
      ]
    },
    "request": {
      "url": "grpc://order-service:50051/orders.OrderService/GetOrder",
      "method": "POST"
    }
  },
  "beforeSendCode": "// Initialize tags if nil\nif event[\"tags\"] == nil {\n    event[\"tags\"] = make(map[string]interface{})\n}\n\ntags := event[\"tags\"].(map[string]interface{})\n\n// Add service identification tags\ntags[\"service.name\"] = \"order-service\"\ntags[\"service.version\"] = \"v2.1.0\"\ntags[\"environment\"] = \"production\"\ntags[\"deployment.id\"] = \"deploy-12345\"\n\n// Add Kubernetes context\ntags[\"k8s.pod.name\"] = \"order-service-abc123\"\ntags[\"k8s.namespace\"] = \"production\"\ntags[\"k8s.cluster\"] = \"us-east-1\"\n\n// Add service tier\ntags[\"service.tier\"] = \"critical\"\ntags[\"service.team\"] = \"backend-team\"\n\n// Initialize extra if nil\nif event[\"extra\"] == nil {\n    event[\"extra\"] = make(map[string]interface{})\n}\n\nextra := event[\"extra\"].(map[string]interface{})\n\n// Add Kubernetes metadata\nkubernetes := map[string]interface{}{\n    \"pod_name\":      \"order-service-abc123\",\n    \"pod_namespace\": \"production\",\n    \"cluster_name\":  \"us-east-1\",\n}\nextra[\"kubernetes\"] = kubernetes\n\n// Add deployment metadata\ndeployment := map[string]interface{}{\n    \"id\":         \"deploy-12345\",\n    \"git_commit\": \"a1b2c3d\",\n}\nextra[\"deployment\"] = deployment\n\nreturn event"
}

{
  "id": "rust-service-metadata",
  "name": "Service Metadata Enrichment (Rust)",
  "description": "Add service version, build info, and deployment context to Rust error events",
  "type": "beforeSend",
  "sdk": "rust",
  "event": {
    "event_id": "rust-meta-789",
    "message": "Database connection timeout",
    "exception": {
      "values": [
        {
          "type": "DbError",
          "value": "Failed to connect to postgres://db.example.com:5432"
        }
      ]
    },
    "level": "error"
  },
  "beforeSendCode": "// Add service version and build information as tags\nevent[\"tags\"] = json!({\n    \"service_version\": \"1.2.3\",\n    \"build_number\": \"42\",\n    \"rust_version\": \"1.75.0\",\n    \"deployment\": \"kubernetes\"\n});\n\n// Add custom contexts with deployment details\nevent[\"contexts\"] = json!({\n    \"deployment\": {\n        \"cluster\": \"production-us-east-1\",\n        \"pod_name\": \"api-service-abc123\",\n        \"namespace\": \"production\"\n    },\n    \"service\": {\n        \"name\": \"rust-api-service\",\n        \"version\": \"1.2.3\",\n        \"language\": \"rust\"\n    }\n});\n\n// Add extra metadata\nevent[\"extra\"] = json!({\n    \"compiled_at\": \"2026-01-24T12:00:00Z\",\n    \"optimization_level\": \"release\"\n});\n\nSome(event)"
}

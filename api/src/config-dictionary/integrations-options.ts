/**
 * Integration configuration options
 */

import { ConfigOption } from './types';

export const integrationsOptions: ConfigOption[] = [
  {
    key: 'integrations',
    displayName: 'Integrations',
    description: 'An array of integration instances to use. Integrations extend SDK functionality (e.g., breadcrumbs, context, framework-specific features).',
    type: 'array',
    category: 'integrations',
    required: false,
    examples: [
      '[]',
      '[new Sentry.BrowserTracing()]',
      '[new Sentry.Replay()]',
      '(defaults) => defaults.filter(i => i.name !== "Breadcrumbs")',
    ],
    docsUrl: 'https://docs.sentry.io/platform-redirect/?next=/configuration/integrations/',
    seGuidance: 'Most integrations are enabled by default. Use this to add custom integrations or disable default ones. Common: add Replay, customize BrowserTracing, disable Console integration.',
    warnings: [
      'Removing default integrations may disable core features',
      'Use function form to filter defaults: (defaults) => [...defaults, newIntegration]',
      'Order can matter for some integrations',
    ],
    relatedOptions: ['defaultIntegrations'],
  },
  {
    key: 'defaultIntegrations',
    displayName: 'Default Integrations',
    description: 'Whether to use default integrations. Set to false to start with no integrations, then manually add what you need.',
    type: 'boolean',
    category: 'integrations',
    required: false,
    defaultValue: true,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platform-redirect/?next=/configuration/integrations/',
    seGuidance: 'Rarely needed. Setting to false disables all default integrations - you must manually add everything. Only use for advanced customization or minimal SDK footprint.',
    warnings: [
      'Disables all default integrations - SDK will have minimal functionality',
      'You must manually add integrations you need',
      'Not recommended unless you have specific requirements',
    ],
    relatedOptions: ['integrations'],
  },
  {
    key: 'autoSessionTracking',
    displayName: 'Auto Session Tracking',
    description: 'Automatically track user sessions for release health metrics. Enabled by default in browser SDKs.',
    type: 'boolean',
    category: 'integrations',
    required: false,
    defaultValue: true,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/product/releases/health/',
    seGuidance: 'Leave enabled to track crash-free sessions and release health. Disable only if you have custom session tracking. Required for accurate release health metrics in Sentry UI.',
    warnings: [
      'Disabling loses release health visibility',
      'Sessions are used for quota but are typically a small percentage',
    ],
    relatedOptions: ['release', 'environment'],
    supportedSDKs: ['javascript'],
  },
  {
    key: 'sendDefaultPii',
    displayName: 'Send Default PII',
    description: 'Whether to include personally identifiable information (PII) by default. When false, user IP, cookies, and similar data are stripped.',
    type: 'boolean',
    category: 'context',
    required: false,
    defaultValue: false,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platform-redirect/?next=/data-management/sensitive-data/',
    seGuidance: 'Keep false (default) for GDPR compliance. Enable only if you need user IPs and have proper consent. Better approach: explicitly set user context with consented data.',
    warnings: [
      'Enabling may violate privacy regulations (GDPR, CCPA)',
      'Includes user IP addresses, cookies, authentication headers',
      'Consider using beforeSend for fine-grained PII control',
    ],
    relatedOptions: ['beforeSend'],
  },
  {
    key: 'attachScreenshot',
    displayName: 'Attach Screenshot',
    description: 'Capture a screenshot when an error occurs. Provides visual context for debugging mobile and desktop apps.',
    type: 'boolean',
    category: 'context',
    required: false,
    defaultValue: false,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platforms/android/enriching-events/screenshots/',
    seGuidance: 'Valuable for mobile apps to see exact UI state during errors. Increases event size and processing time. Consider privacy implications - may capture user data on screen.',
    warnings: [
      'May capture sensitive information visible on screen',
      'Increases event payload size',
      'Performance impact during error capture',
      'Check privacy compliance before enabling',
    ],
    relatedOptions: ['attachViewHierarchy', 'beforeSend'],
    supportedSDKs: ['android', 'cocoa', 'flutter', 'react-native'],
  },
  {
    key: 'attachViewHierarchy',
    displayName: 'Attach View Hierarchy',
    description: 'Capture the view/component hierarchy when an error occurs. Helps debug UI structure issues.',
    type: 'boolean',
    category: 'context',
    required: false,
    defaultValue: false,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platforms/android/enriching-events/viewhierarchy/',
    seGuidance: 'Useful for debugging UI layout issues and understanding component structure at time of error. Less privacy-sensitive than screenshots but still review for sensitive component names.',
    warnings: [
      'May expose internal component names and structure',
      'Increases event payload size',
    ],
    relatedOptions: ['attachScreenshot'],
    supportedSDKs: ['android', 'cocoa', 'flutter', 'react-native'],
  },
  {
    key: 'enableCaptureFailedRequests',
    displayName: 'Enable Capture Failed Requests',
    description: 'Automatically capture failed HTTP requests as events. Useful for API error monitoring.',
    type: 'boolean',
    category: 'integrations',
    required: false,
    defaultValue: false,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platforms/javascript/configuration/options/',
    seGuidance: 'Enable to automatically capture HTTP 4xx/5xx responses. Useful for monitoring API health. May generate many events - consider filtering with failedRequestStatusCodes.',
    warnings: [
      'May capture many events on high-traffic APIs',
      'Consider using failedRequestStatusCodes to filter',
      'Request/response bodies may contain sensitive data',
    ],
    relatedOptions: ['failedRequestStatusCodes', 'failedRequestTargets'],
    supportedSDKs: ['javascript', 'cocoa', 'android'],
  },
  {
    key: 'failedRequestStatusCodes',
    displayName: 'Failed Request Status Codes',
    description: 'HTTP status codes that trigger automatic failed request capture.',
    type: 'array',
    category: 'integrations',
    required: false,
    defaultValue: [[500, 599]],
    examples: [
      '[[500, 599]]',
      '[[400, 599]]',
      '[500, 502, 503]',
    ],
    docsUrl: 'https://docs.sentry.io/platforms/javascript/configuration/options/',
    seGuidance: 'Customize which status codes trigger capture. Default captures 5xx only. Add 4xx ranges cautiously as client errors may be high volume.',
    relatedOptions: ['enableCaptureFailedRequests', 'failedRequestTargets'],
    supportedSDKs: ['javascript', 'cocoa', 'android'],
  },
  // Cocoa/iOS-specific options
  {
    key: 'releaseName',
    displayName: 'Release Name',
    description: 'The release version of your application. Cocoa SDK uses releaseName instead of release.',
    type: 'string',
    category: 'core',
    required: false,
    examples: [
      '"my-app@1.0.0"',
      'Bundle.main.infoDictionary?["CFBundleShortVersionString"]',
    ],
    docsUrl: 'https://docs.sentry.io/platforms/apple/configuration/options/',
    seGuidance: 'Cocoa SDK equivalent of release. Often set from Bundle info. Use semantic versioning for best results with release tracking features.',
    relatedOptions: ['release', 'dist'],
    supportedSDKs: ['cocoa'],
  },
  {
    key: 'enableAutoSessionTracking',
    displayName: 'Enable Auto Session Tracking',
    description: 'Automatically track user sessions for release health metrics. Enabled by default in Cocoa SDK.',
    type: 'boolean',
    category: 'integrations',
    required: false,
    defaultValue: true,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platforms/apple/configuration/options/',
    seGuidance: 'Leave enabled to track crash-free sessions and release health. Essential for iOS app store quality metrics. Disable only if you have custom session tracking.',
    relatedOptions: ['releaseName', 'environment'],
    supportedSDKs: ['cocoa'],
  },
  {
    key: 'enableUIViewControllerTracing',
    displayName: 'Enable UIViewController Tracing',
    description: 'Automatically create transactions for UIViewController lifecycle events. Tracks view load times and navigation.',
    type: 'boolean',
    category: 'performance',
    required: false,
    defaultValue: true,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platforms/apple/tracing/',
    seGuidance: 'Enable for automatic performance monitoring of view controllers. Creates transactions for viewDidLoad, viewWillAppear, etc. Requires enableSwizzling to be true.',
    relatedOptions: ['enableSwizzling', 'tracesSampleRate'],
    supportedSDKs: ['cocoa'],
  },
  {
    key: 'enableSwizzling',
    displayName: 'Enable Swizzling',
    description: 'Enable method swizzling for automatic instrumentation. Required for many automatic features in Cocoa SDK.',
    type: 'boolean',
    category: 'integrations',
    required: false,
    defaultValue: true,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platforms/apple/configuration/options/',
    seGuidance: 'Leave enabled for automatic breadcrumbs, UI tracing, and network tracking. Disable only if swizzling conflicts with other libraries. Some App Store reviewers may ask about swizzling.',
    warnings: [
      'Disabling breaks many automatic features',
      'May conflict with other libraries using swizzling',
    ],
    relatedOptions: ['enableUIViewControllerTracing', 'enableNetworkBreadcrumbs'],
    supportedSDKs: ['cocoa'],
  },
  {
    key: 'enableNetworkBreadcrumbs',
    displayName: 'Enable Network Breadcrumbs',
    description: 'Automatically capture breadcrumbs for network requests. Shows HTTP traffic leading up to errors.',
    type: 'boolean',
    category: 'integrations',
    required: false,
    defaultValue: true,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platforms/apple/enriching-events/breadcrumbs/',
    seGuidance: 'Enable to see network activity before errors. Useful for debugging API-related issues. Request/response details help identify backend problems.',
    relatedOptions: ['enableSwizzling', 'maxBreadcrumbs'],
    supportedSDKs: ['cocoa'],
  },
  {
    key: 'enableNetworkTracking',
    displayName: 'Enable Network Tracking',
    description: 'Automatically create spans for network requests in performance traces.',
    type: 'boolean',
    category: 'performance',
    required: false,
    defaultValue: true,
    examples: ['true', 'false'],
    docsUrl: 'https://docs.sentry.io/platforms/apple/tracing/',
    seGuidance: 'Enable to see HTTP requests as spans in traces. Shows request timing and helps identify slow API calls. Requires performance monitoring enabled.',
    relatedOptions: ['tracesSampleRate', 'enableSwizzling'],
    supportedSDKs: ['cocoa'],
  },
];
